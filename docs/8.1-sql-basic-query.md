---
title: 8.1-sql-basic-query
date: 2025-10-22 12:22
status: Child
tags:
  - SQL
  - programming
  - Data Analysis
  - Data Analyst
---


# SQL Training Session Notes

## Introduction

The training session introduces participants to SQL, emphasizing its relevance across industries such as banking, e-commerce, and retail. The session includes introductions from participants, an overview of SQL fundamentals, and practical exercises using a sample database called "DVD Rental Company" (referred to as "Tebi" or "PFMavenmovies" in the transcript). The session covers database setup, basic SQL queries, and filtering techniques, with a focus on hands-on learning.

## SQL Fundamentals

### Definition and Importance

SQL, or Structured Query Language, is a programming language used for managing and manipulating relational databases. Originating in the 1960s or 1970s, SQL remains highly relevant across various industries due to its ability to handle large datasets efficiently. It is particularly valuable in:

- **Banking**: Managing financial data.
- **E-commerce**: Handling customer and transaction data.
- **Retail**: Managing inventory and sales data.

SQL allows users to query data from cloud-based servers, making it easier to process large volumes of data compared to other programming languages.

### Database Structure

In SQL, data is organized into **tables**, consisting of **rows** and **columns**, similar to an Excel spreadsheet. Each table has a **primary key**, a unique identifier that cannot contain duplicates or null values, and may include **foreign keys**, which can contain duplicates and null values, linking tables together.

For example, in a rental table:
- **Primary Key**: `rental_id` (unique identifier for each rental).
- **Foreign Keys**: `customer_id`, `staff_id`, `inventory_id` (link to other tables).

### Common SQL Databases

The session highlighted several SQL database systems:
- **MySQL**: Widely used, relatively easy to learn, and suitable for practice.
- **Microsoft SQL Server**: Commonly used in professional environments.
- **PostgreSQL**: Another popular database system, often referred to as "ProScape" in the transcript.
- **SQLite**: Lightweight database for smaller applications.

Participants were encouraged to practice with MySQL or PostgreSQL for their workstations.

## Sample Database: DVD Rental Company

The session utilized a practice database called the "DVD Rental Company" (referred to as "Tebi" or "PFMavenmovies"). This database contains three main types of data:

1. **Customer Data**: Includes customer details such as `customer_id`, `first_name`, `last_name`, `city_id`, and `country_id`.
2. **Business Data**: Includes staff, store, payment, and rental data.
3. **Inventory Data**: Includes film, film category, language, actor, film text, and inventory data.

The database consists of 16 tables, with examples including:
- **Rental Table**: Contains `rental_id` (primary key), `rental_date`, `inventory_id`, `customer_id`, `staff_id`, and `last_update`.
- **Film Table**: Contains `film_id`, `title`, `description`, `rating`, and other attributes.

## SQL Query Basics

### SELECT Statement

The `SELECT` statement retrieves data from a database. The basic syntax is:

```sql
SELECT column_name(s) FROM table_name;
```

To retrieve all columns from a table, use the asterisk (`*`):

```sql
SELECT * FROM table_name;
```

For example, to retrieve all data from the `rental` table:

```sql
SELECT * FROM rental;
```

This query returns all columns (`rental_id`, `rental_date`, `inventory_id`, `customer_id`, `staff_id`, `last_update`) and rows from the `rental` table.

To select specific columns, list them explicitly:

```sql
SELECT title, description FROM film;
```

This query retrieves only the `title` and `description` columns from the `film` table.

### Case Sensitivity

SQL table and column names are case-sensitive. For example, querying `Rental` instead of `rental` will result in an error (e.g., error code 1146). Always ensure the exact table and column names are used.

### DISTINCT Keyword

The `DISTINCT` keyword retrieves unique values from a column. For example, to find unique ratings in the `film` table:

```sql
SELECT DISTINCT rating FROM film;
```

This query returns unique values such as `PG`, `G`, `R`, etc., eliminating duplicates.

### WHERE Clause

The `WHERE` clause filters data based on specified conditions, similar to filtering in Excel or selecting genres on a streaming platform like Netflix. The syntax is:

```sql
SELECT column_name(s) FROM table_name WHERE condition;
```

For example, to retrieve transactions with an amount of $0.99 from the `payment` table:

```sql
SELECT * FROM payment WHERE amount = 0.99;
```

#### Operators in WHERE Clause

Common operators used in the `WHERE` clause include:
- `=` (equal to)
- `!=` or `<>` (not equal to)
- `>` (greater than)
- `<` (less than)
- `>=` (greater than or equal to)
- `<=` (less than or equal to)
- `BETWEEN` (within a range)
- `LIKE` (pattern matching)

For example, to retrieve transactions for customer IDs between 1 and 100:

```sql
SELECT * FROM payment WHERE customer_id BETWEEN 1 AND 100;
```


if we want to be more specific, the filter can be even focused by filtering date greater than 2006

```sql
SELECT 
customer_id, 
rendtal_id, 
amount 
FROM payment amount = 0.99 
AND payment_date >= "2006-01-01" 
AND customer_id BETWEEN 1 AND 100;
```

here we can include the `payment_date` as column from the `rental_id` 

```sql
SELECT 
customer_id, 
rendtal_id, 
amount, 
payment_date 
FROM payment amount = 0.99 
AND payment_date >= "2006-01-01" 
AND customer_id BETWEEN 1 AND 100;
```

Month column can be added in this table by using `monthname()` function,

```sql
SELECT 
customer_id, 
rendtal_id, 
amount, 
monthname(payment_date) AS mamun
FROM payment amount = 0.99 
AND payment_date >= "2006-01-01" 
AND customer_id BETWEEN 1 AND 100;
```

![[Pasted image 20251022165704.png]]

#### Combining Conditions with AND and OR

Multiple conditions can be combined using logical operators `AND` and `OR`.

- **AND**: All conditions must be true. For example, to retrieve transactions of $0.99 made after January 1, 2006:

```sql
SELECT customer_id, rental_id, amount
FROM payment
WHERE amount = 0.99 AND payment_date >= '2006-01-01';
```

- **OR**: At least one condition must be true. For example, to retrieve transactions where the amount is greater than $5 or for specific customers (IDs 5, 100, 200):

```sql
SELECT customer_id, rental_id, amount
FROM payment
WHERE amount > 5 OR customer_id = 5 OR customer_id = 100 OR customer_id = 200;
```

Alternatively, use `IN` for multiple values:

```sql
SELECT customer_id, rental_id, amount
FROM payment
WHERE amount > 5 OR customer_id IN (5, 100, 200);
```

### Query Structure

A complete SQL query may include the following components, in order:

1. **SELECT**: Specifies columns to retrieve (mandatory).
2. **FROM**: Specifies the table (mandatory).
3. **WHERE**: Filters rows (optional).
4. **GROUP BY**: Groups rows with the same values (optional, to be covered in future sessions).
5. **HAVING**: Filters grouped data (optional).
6. **ORDER BY**: Sorts the result set (optional).

The `SELECT` and `FROM` clauses are mandatory, while others are optional depending on the query requirements.

## Hands-On Setup: MySQL Installation and Database Configuration

### MySQL Setup

Participants were guided on setting up MySQL on their workstations:
1. Install MySQL and create a server.
2. Set a password for MySQL access and store it securely, as it is required for every login.
3. If the password is forgotten, MySQL may need to be reinstalled.

### Loading the Database

To work with the DVD Rental Company database:
1. Open MySQL and load the provided SQL script (`PFMavenmovies`).
2. Run the script by clicking the "Thunder" button to populate the database.
3. This process is performed once during the initial setup. Subsequent sessions only require logging into MySQL and accessing the database.

If the database does not appear, use the refresh button to update the view.

### Common Issues

- **Case Sensitivity**: Ensure table and column names match exactly to avoid errors (e.g., error 1146).
- **Password Management**: Write down the MySQL password to prevent login issues.
- **Syntax Errors**: Ensure proper use of commas between column names and correct syntax for conditions (e.g., enclosing text or dates in single quotes).

## Practical Examples

### Example 1: Retrieving All Data from a Table

To retrieve all columns from the `film` table:

```sql
SELECT * FROM film;
```

This query displays all columns, including `film_id`, `title`, `description`, `rating`, etc.

### Example 2: Selecting Specific Columns

To retrieve only the `title` and `description` from the `film` table:

```sql
SELECT title, description FROM film;
```

Adding another column, such as `rating`, requires a comma:

```sql
SELECT title, description, rating FROM film;
```

### Example 3: Filtering with WHERE

To retrieve transactions of $0.99 from the `payment` table:

```sql
SELECT customer_id, rental_id, amount
FROM payment
WHERE amount = 0.99;
```

### Example 4: Combining Conditions

To retrieve transactions of $0.99 made after January 1, 2006, for the first 100 customers:

```sql
SELECT customer_id, rental_id, amount
FROM payment
WHERE amount = 0.99 AND payment_date >= '2006-01-01' AND customer_id BETWEEN 1 AND 100;
```

### Example 5: Using OR for Multiple Customers

To retrieve transactions for customers with IDs 5, 100, or 200, or transactions above $5:

```sql
SELECT customer_id, rental_id, amount
FROM payment
WHERE amount > 5 OR customer_id IN (5, 100, 200);
```

## Additional Notes

### Filtering Analogy

The `WHERE` clause was compared to filtering on streaming platforms like Netflix. For example, selecting action movies is akin to:

```sql
SELECT * FROM netflix WHERE genre = 'Action';
```

Combining genres (e.g., action or sci-fi) uses `OR`:

```sql
SELECT * FROM netflix WHERE genre = 'Action' OR genre = 'Sci-Fi';
```

### Real-World Application

An analogy was provided using a bike purchase scenario:
- **Scenario**: A customer wants a Suzuki Jigsaw bike in blue with a 150cc engine.
- **SQL Query**:

```sql
SELECT * FROM mamoon_motors
WHERE bike_model = 'Jigsaw' AND color = 'Blue' AND engine_cc = 150;
```

Alternatively, if the customer is open to other 150cc bikes:

```sql
SELECT * FROM mamoon_motors
WHERE bike_model = 'Jigsaw' OR engine_cc = 150;
```

### Future Topics

The session briefly mentioned upcoming topics, including:
- **GROUP BY**: For aggregating data (e.g., summing transactions by customer).
- **HAVING**: For filtering grouped data.
- **ORDER BY**: For sorting results.
- **JOINS**: For combining data from multiple tables.
- **Subqueries**: For nested queries.

These will be covered in subsequent classes to build on the foundational knowledge.

## Session Logistics

- **Schedule**: The class discussed continuing the session the following day, potentially starting at 9:00 PM, to accommodate participants' office hours.
- **Practice**: Participants were encouraged to practice queries and review concepts to solidify their understanding.
- **Resources**: All necessary resources, including the database script, were shared with participants.
- **Support**: The instructor provided contact information for troubleshooting errors or clarifying concepts outside of class.

## Conclusion

This session provided a comprehensive introduction to SQL, covering its importance, basic syntax, and practical applications using the DVD Rental Company database. Participants learned to write `SELECT` queries, use the `WHERE` clause for filtering, and understand the role of primary and foreign keys. Hands-on exercises reinforced these concepts, and analogies (e.g., Netflix filtering, bike purchasing) made the material relatable. Future sessions will build on these fundamentals, introducing advanced SQL techniques to enhance data analysis skills.

---

This document is formatted for use in Obsidian, with clear headings and subheadings to organize the content logically. No mathematical expressions were required, as the transcript focused on SQL syntax rather than equations. The content has been cleaned and structured to maintain clarity and professionalism while preserving the original intent of the training session.


References